<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description"
	content="A web UI for submitting and monitoring learn and evaluation experiments.">
<meta name="keywords" content="Dianne, IoT, Internet of Things">
<meta name="author" content="Tim Verbelen">
<title>Dianne Dashboard</title>

<!-- Bootstrap -->
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<!-- Styles -->
<link rel="stylesheet" href="css/dianne.css">
<!-- icon -->
<link rel="icon" type="image/png" href="images/icon.png">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<div class="site-wrapper">

		<header class="navbar-fixed-top custom-navbar">
			<img class="logo" src="images/dianne.png"/>
			<div class="inner">
				<nav class='controls'>
	                <ul id="actions" class="nav actions-nav control-group">
						<li><a href="#" id="menu-submit" data-toggle="modal" data-target="#submit-modal">Submit new job</a></li>
	                </ul>
                </nav>
				
				<nav class='controls'>
					<ul id="modes" class="nav masthead-nav control-group">
						<li><a href="#" id="mode-dashboard" onclick="setModus('dashboard');return false;" class="active">Dashboard</a></li>
						<li><a href="#" id="mode-jobs" onclick="setModus('jobs');return false;">Running Jobs</a></li>
						<li><a href="#" id="mode-infrastructure" onclick="setModus('infrastructure');return false;">Infrastructure</a></li>
					</ul>
				</nav>
			</div>
		</header>

		<div class="container-fluid">
			<div id="dashboard" class="row mCustomScrollbar" data-mcs-theme="minimal">
				
				<div class="block dashboard col-lg-4 col-md-6">
					<div class="panel panel-default status">
					  	<div class="panel-heading">Status</div>
					  	<div class="panel-body">							
							<div id="status" class="row">
							</div>
					  	</div>
					 </div>
				</div>
				
				<div class="block dashboard col-lg-8 col-md-6">
					<div class="panel panel-default notifications">
					  	<div class="panel-heading">Notifications</div>
					  	<div id="alerts">	  	
					  	</div>
					 </div>
				</div>
				
				<div class="block dashboard col-lg-4 col-md-6">
					<div class="panel panel-default queue">
					  	<div class="panel-heading">Job queue</div>
					  	<div class="panel-body">
							<div id="jobs-queue" class="list-group">
							</div>
					  	</div>
					 </div>
				</div>
				
				<div class="block dashboard col-lg-4 col-md-6">
					<div class="panel panel-default running">
					  	<div class="panel-heading">Jobs running</div>
					  	<div class="panel-body">
							<div id="jobs-running" class="list-group">
							</div>
					  	</div>
					 </div>
				</div>
				
				<div class="block dashboard col-lg-4 col-md-6">
					<div class="panel panel-default finished">
					  	<div class="panel-heading">Jobs finished</div>
					  	<div class="panel-body">
							<div id="jobs-finished" class="list-group">
							</div>
					  	</div>
					 </div>
				</div>
				
				<div class="block jobs col-lg-4 col-md-6">
					<div class="panel panel-default job">
					  	<div class="panel-heading"><span class="badge pull-right">FF</span>CIFAR-10 training</div>
					  	<div class="panel-body">
					  		<div>
					  			<p>NN: CIFARCascade | Dataset: CIFAR-10</p>
					  			<p>Running on 1 node | Uptime: 4 hours and 10 minutes</p>
					  		</div>
					  		<div id="chart1">
					  		</div>
					  	
					  	</div>
					 </div>
				</div>
				
				<div class="block jobs col-lg-4 col-md-6">
					<div class="panel panel-default job">
					  	<div class="panel-heading"><span class="badge pull-right">RL</span>Atari Pong</div>
					  	<div class="panel-body">
					  		<div>
					  			<p>NN: DeepQNetwork | Dataset: ALEPong</p>
					  			<p>Running on 4 nodes | Uptime: 1 day, 3 hours and 4 minutes</p>
					  		</div>
					  		<div id="chart2">
					  		</div>
					  	</div>
					 </div>
				</div>
				
				<div class="block jobs col-lg-4 col-md-6">
					<div class="panel panel-default job">
					  	<div class="panel-heading">Learn Job 3</div>
					  	<div class="panel-body">A Basic Panel</div>
					  	
					 </div>
				</div>
				
				<div class="block jobs col-lg-4 col-md-6">
					<div class="panel panel-default job">
					  	<div class="panel-heading">Learn Job 4</div>
					  	<div class="panel-body">A Basic Panel</div>
					  	
					 </div>
				</div>
				
				<div class="block jobs col-lg-4 col-md-6">
					<div class="panel panel-default job">
					  	<div class="panel-heading">Learn Job 5</div>
					  	<div class="panel-body">A Basic Panel</div>
					  	
					 </div>
				</div>
				
				
				<div class="block infrastructure col-lg-4 col-md-6">
					<div class="panel panel-default resources">
					  	<div class="panel-heading">Wall2-GPU1</div>
					  	<div class="panel-body">
					  		<b>n104-06.wall2.ilabt.iminds.be</b>
					  		<ul>
								<li>CPU: Intel(R) Xeon(R) CPU E5-2620 v3 @ 2.40GHz</li>
								<li>GPU: GeForce GTX 980 </li>
								<li>IP: 10.2.33.169</li>
							</ul>
					  		<br/>
					  		Resource usage:							
							<div class="row">
								<div id="gpu1-mem" class="col-sm-6">
								</div>
								<div id="gpu1-cpu" class="col-sm-6">
								</div>
							</div>
					  	</div>
					 </div>
				</div>
			</div>
		</div>
		
		<div class="modal fade" id="submit-modal" role="dialog">
		  <div class="modal-dialog modal-lg">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal">&times;</button>
		        <h4 class="modal-title">Submit a new job...</h4>
		      </div>
		      <div class="modal-body">
		         <form id="submit-form" class="form-horizontal" role="form">
				   <div class="form-group">
				    <label class="control-label col-sm-2" for="nn">Name:</label>
				    <div class="col-sm-10">
				      <input name="name" type="text" class="form-control" placeholder="Insert a human readable job name..."/>
				    </div>
				   </div>
				   <div class="form-group">
				    <label class="control-label col-sm-2" for="type">Type:</label>
				    <div class="col-sm-10">
				      <select name="type" class="form-control">
					    <option>LEARN</option>
					    <option>EVALUATE</option>
					  </select>
				    </div>
				   </div>
				   <div class="form-group">
				    <label class="control-label col-sm-2" for="nn">Neural Network:</label>
				    <div class="col-sm-10">
				      <select id="nn" name="nn" type="text" class="form-control" placeholder="Choose neural network...">
				      </select>
				    </div>
				   </div>
				   <div class="form-group">
				    <label class="control-label col-sm-2" for="dataset">Dataset:</label>
				    <div class="col-sm-10">
				      <select id="dataset" name="dataset" type="text" class="form-control" placeholder="Select dataset...">
				      </select>
				    </div>
				   </div>
				   <div class="form-group">
				    <label class="control-label col-sm-2" for="config">Options:</label>
				    <div class="col-sm-10">
				      <textarea name="config" class="form-control" rows="5" placeholder="Options in the form of key1=value1 key2=value2 ..."></textarea>
				    </div>
				   </div>
				</form>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="submitJob()">Submit</button>
		      </div>
		    </div>
		  </div>
		</div>

		<footer class="navbar-fixed-bottom custom-footer">
			<img class="footer-image" src="images/iminds.png" />
			<div class="inner">
				<p>Copyright &copy; 2015-2016 iMinds - IBCN - UGent</p>
			</div>
		</footer>
	</div>

	<!-- Templates -->
	<script type="x-tmpl-mustache" id="jobs-item">
	<a href="#" class="list-group-item">
		<span class="badge">{{category}}</span>
		<h4 class="list-group-item-heading">{{name}}</h4>
		<p class="list-group-item-text">
			NN: {{nn}} | Dataset: {{dataset}}
		</p>
	</a>
	</script>
	
	<script type="x-tmpl-mustache" id="notification">
	<div class="alert alert-{{level}} fade in">
		<span style="float:right">{{time}}</span>
		{{message}}
	</div>	
	</script>
	
	<script type="x-tmpl-mustache" id="stat">
	<div id="status-msg" class="col-sm-6 big">
		<b>System</b>
		<ul>
			<li>{{queued}} jobs queued</li>
			<li>{{running}} jobs running on {{devices}} devices</li>
			<li>{{idle}} devices idle</li>
		</ul>
		<b>Repository</b>
		<ul>
			<!--<li>Network I/O: 12Mbps/3Mbps</li>-->
			<li>Storage: {{spaceLeft}} GB free space</li>
		</ul>
		<b>Uptime</b>
		<ul>
			<li>{{uptime}}</li>
		</ul>
	</div>
	<div id="status-chart" class="col-sm-6">
	</div>
	</script>	

	<script type="x-tmpl-mustache" id="device">
	<div class="block infrastructure col-lg-4 col-md-6">
		<div class="panel panel-default resources">
			<div class="panel-heading">{{name}}</div>
			<div class="panel-body">
				<b>{{id}}</b>
				<ul>
					<li>Arch: {{arch}}</li>
					<li>OS: {{os}}</li>
					<!--<li>CPU: Intel(R) Xeon(R) CPU E5-2620 v3 @ 2.40GHz</li>-->
					<!--<li>GPU: GeForce GTX 980 </li>-->
					<li>IP: {{ip}}</li>
				</ul>
				<br/>
				Resource usage:							
				<div class="row">
					<div id="{{id}}-mem" class="col-sm-6"></div>
					<div id="{{id}}-cpu" class="col-sm-6"></div>
				</div>
			</div>
		</div>
	</div>
	</script>	

	<script type="x-tmpl-mustache" id="job">
	<div class="block jobs col-lg-4 col-md-6">
	<div class="panel panel-default job">
	  <div class="panel-heading"><span class="badge pull-right">{{category}}</span>{{name}}</div>
	  	<div class="panel-body">
	  		<div>
	  			<p>NN: {{nn}} | Dataset: {{dataset}}</p>
	  			<p>Running on {{devices}} nodes | Started: {{time}}</p>
	  		</div>
	  		<div id="{{id}}-progress">
	  		</div>
	  	</div>
	  </div>
	</div>
	</script>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="js/lib/jquery.min.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<!-- Latest compiled and minified JavaScript -->
	<script src="js/lib/bootstrap.min.js"></script>
	<!-- Mustache Template Script  -->
	<script src="js/lib/mustache.js"></script>
	<!-- Highcharts Script  -->
	<script src="js/lib/highcharts.js"></script>
	<script src="js/lib/highcharts-more.js"></script>
	<script src="js/lib/highcharts-solid-gauge.js"></script>
	<!-- Moment.js for rendering timestamps -->
	<script src="js/lib/moment.min.js"></script>
	<!-- Our own scripts -->
	<script src="js/dianne-jsonrpc.js"></script>
	<script src="js/dianne-charts.js"></script>
	<script src="js/dianne-dashboard.js"></script>
	
</body>
</html>
